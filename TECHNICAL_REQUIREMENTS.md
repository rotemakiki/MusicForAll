# 🔧 דרישות טכניות - הגדרת דומיין

## 📝 טופס למילוי (שלח לי את זה)

```
═══════════════════════════════════════════════════════════
פרטי דומיין:
═══════════════════════════════════════════════════════════
שם דומיין: _______________________________
ספק דומיין: _______________________________
תאריך רכישה: _______________________________

═══════════════════════════════════════════════════════════
פרטי Render:
═══════════════════════════════════════════════════════════
Service Name: _______________________________
Render URL: _______________________________
תוכנית נוכחית: [ ] Free [ ] Starter [ ] Professional
כתובת GitHub Repository: _______________________________

═══════════════════════════════════════════════════════════
העדפות:
═══════════════════════════════════════════════════════════
האם אתה רוצה www? [ ] כן [ ] לא
אם כן, איזה תהיה הדומיין הראשי?
  [ ] www.yourdomain.com (www הוא הראשי)
  [ ] yourdomain.com (ללא www הוא הראשי)

═══════════════════════════════════════════════════════════
משתני סביבה קיימים ב-Render:
═══════════════════════════════════════════════════════════
(רשום את כל המשתנים שיש לך כרגע)

1. _______________________________
2. _______________________________
3. _______________________________

═══════════════════════════════════════════════════════════
Firebase:
═══════════════════════════════════════════════════════════
האם יש לך את קובץ firebase-key.json? [ ] כן [ ] לא
אם כן, האם אתה מוכן שאקודד אותו ב-Base64? [ ] כן [ ] לא

═══════════════════════════════════════════════════════════
```

---

## 🔐 מה אני אכין לך

### 1. עדכון `render.yaml`:
```yaml
services:
  - type: web
    name: music-for-all
    env: python
    buildCommand: ""
    startCommand: "python app.py"
    envVars:
      - key: SECRET_KEY
        value: [מפתח חזק שיצרתי]
      - key: FIREBASE_KEY_BASE64
        value: [המפתח מקודד]
      - key: DEBUG
        value: "False"
      - key: PORT
        value: "10000"
```

### 2. עדכון `app.py`:
- הוספת הגדרות CORS (אם נדרש)
- הוספת redirect מ-HTTP ל-HTTPS
- הוספת redirect מ-www ל-non-www (או להיפך)
- עדכון הגדרות אבטחה

### 3. יצירת SECRET_KEY:
- אני אכין לך מפתח חזק וייחודי
- או תוכל ליצור בעצמך (ראה הוראות למטה)

### 4. קידוד Firebase ב-Base64:
- אני אעזור לך לקודד את קובץ Firebase
- או תוכל לעשות זאת בעצמך (ראה הוראות למטה)

---

## 🛠️ כלים שימושיים

### יצירת SECRET_KEY:

**ב-PowerShell:**
```powershell
python -c "import secrets; print(secrets.token_hex(32))"
```

**או ב-Python:**
```python
import secrets
secret_key = secrets.token_hex(32)
print(secret_key)
```

### קידוד Firebase ב-Base64:

**ב-PowerShell:**
```powershell
$content = Get-Content -Path "secrets\firebase-key.json" -Raw -Encoding UTF8
$bytes = [System.Text.Encoding]::UTF8.GetBytes($content)
$base64 = [System.Convert]::ToBase64String($bytes)
$base64 | Out-File -FilePath "firebase-base64.txt" -Encoding UTF8
```

**או ב-Python:**
```python
import base64
import json

with open('secrets/firebase-key.json', 'r') as f:
    key_data = f.read()

encoded = base64.b64encode(key_data.encode('utf-8')).decode('utf-8')
print(encoded)
```

---

## 📋 רשימת בדיקה לפני שליחה

לפני שאתה שולח לי את הפרטים, ודא:

- [ ] רכשת את הדומיין
- [ ] יש לך גישה ל-Render Dashboard
- [ ] יש לך את קובץ Firebase (או מוכן שאעזור לך)
- [ ] מילאת את כל הפרטים בטופס למעלה
- [ ] אתה יודע איזה תוכנית Render יש לך

---

## 🚀 אחרי שאני אעדכן את הקוד

1. **תעלה את השינויים ל-Git**:
   ```powershell
   git add .
   git commit -m "Prepare for custom domain"
   git push
   ```

2. **Render יעדכן אוטומטית** (אם יש Auto-Deploy)

3. **תעדכן את משתני הסביבה ב-Render**:
   - לך ל-Service Settings > Environment
   - הוסף/עדכן את המשתנים שאני אכין לך

4. **תחבר את הדומיין** (ראה DOMAIN_SETUP_GUIDE.md)

---

## ⚠️ הערות חשובות

1. **Render Free לא תומך בדומיין מותאם אישית**
   - תצטרך לשדרג ל-Starter ($7/חודש) לפחות

2. **DNS יכול לקחת עד 48 שעות**
   - בדרך כלל זה לוקח כמה דקות עד כמה שעות

3. **SSL מופעל אוטומטית ב-Render**
   - אחרי שהדומיין מאומת, Render יוסיף SSL אוטומטית

4. **ודא שהקוד מעודכן**
   - אחרי שאני אעדכן את הקוד, תעלה אותו ל-Git
   - Render יעדכן אוטומטית (אם יש Auto-Deploy)

---

## 📞 מוכן?

**מילא את הטופס למעלה ושלח לי את הפרטים!**

אחרי שאקבל את הפרטים, אני:
1. אעדכן את `render.yaml`
2. אעדכן את `app.py` (אם נדרש)
3. אכין לך את משתני הסביבה
4. אכין לך הוראות מפורטות להמשך

**בואו נתחיל! 🚀**


