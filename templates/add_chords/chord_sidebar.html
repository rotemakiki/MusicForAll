<!-- Enhanced Chord Selector Sidebar with Advanced Chords Support -->
<div class="chord-sidebar">
    <h3>ğŸ¸ ×‘×—×¨ ××§×•×¨×“</h3>

    <div class="sidebar-content">
        <!-- Root Note Selection -->
        <div class="section">
            <h4>×‘×—×¨ ×ª×• ×™×¡×•×“:</h4>
            <div id="root-letters" class="button-grid">
                <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
            </div>
        </div>

        <!-- Accidental Buttons -->
        <div class="section">
            <h4>×‘×—×¨ ×¡×™××Ÿ:</h4>
            <div id="accidental-buttons" class="accidental-buttons">
                <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
            </div>
        </div>

        <!-- Chord Type Selection - Categories -->
        <div class="section">
            <h4>×‘×—×¨ ×¡×•×’ ××§×•×¨×“:</h4>

            <!-- ××§×•×¨×“×™× ××©×•×œ×©×™× (3 ×ª×•×•×™×) -->
            <div class="chord-category">
                <h5 class="category-title">××§×•×¨×“×™× ××©×•×œ×©×™× (3 ×ª×•×•×™×):</h5>
                <div id="triads-chord-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>

            <!-- ××§×•×¨×“×™× ××¨×•×‘×¢×™× (4 ×ª×•×•×™×) -->
            <div class="chord-category">
                <h5 class="category-title">××§×•×¨×“×™× ××¨×•×‘×¢×™× (4 ×ª×•×•×™×):</h5>
                <div id="seventh-chord-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>

            <!-- ××§×•×¨×“×™× ××—×•××©×™× (5+ ×ª×•×•×™×) -->
            <div class="chord-category">
                <h5 class="category-title">××§×•×¨×“×™× ××—×•××©×™× (5+ ×ª×•×•×™×):</h5>
                <div id="extended-chord-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>
        </div>

        <!-- Advanced Chords Toggle Section -->
        <div class="section">
            <h4>××§×•×¨×“×™× ××ª×§×“××™×:</h4>

            <!-- ×›×¤×ª×•×¨×™ ×”×¤×¢×œ×ª ××¦×‘×™× ××ª×§×“××™× -->
            <div class="advanced-toggle-row">
                <button id="slash-mode-toggle" class="advanced-toggle-btn" type="button">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span>ğŸ¸</span>
                        <span>××§×•×¨×“×™ ×¡×œ××©</span>
                    </div>
                    <span class="toggle-arrow">â–¶</span>
                </button>

                <button id="extended-mode-toggle" class="advanced-toggle-btn" type="button">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span>ğŸµ</span>
                        <span>××§×•×¨×“×™× ××•×¨×—×‘×™×</span>
                    </div>
                    <span class="toggle-arrow">â–¶</span>
                </button>
            </div>
        </div>

        <!-- Slash Chords Panel (××•×¡×ª×¨ ×‘×”×ª×—×œ×”) -->
        <div id="slash-chords-panel" class="advanced-panel" style="display: none;">
            <div class="panel-header">
                <h4>×‘×—×¨ ×ª×• ×‘×¡ ×œ××§×•×¨×“:</h4>
                <button id="close-slash-panel" class="close-panel-btn">âœ•</button>
            </div>
            <div id="bass-notes-grid" class="button-grid">
                <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
            </div>
            <div class="slash-preview">
                <strong>×ª×•×¦××”:</strong>
                <span id="slash-chord-preview">â€”</span>
            </div>
        </div>

        <!-- Extended Chords Panel (××•×¡×ª×¨ ×‘×”×ª×—×œ×”) -->
        <div id="extended-chords-panel" class="advanced-panel" style="display: none;">
            <div class="panel-header">
                <h4>××§×•×¨×“×™× ××ª×§×“××™×:</h4>
                <button id="close-extended-panel" class="close-panel-btn">âœ•</button>
            </div>

            <!-- ××§×•×¨×“×™× ×¢× ×”×¨×—×‘×•×ª -->
            <div class="chord-category">
                <h5 class="category-title">×”×¨×—×‘×•×ª (9, 11, 13):</h5>
                <div id="extended-ninth-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>

            <!-- ××§×•×¨×“×™× ×¢× ×©×™× ×•×™×™× -->
            <div class="chord-category">
                <h5 class="category-title">××§×•×¨×“×™× ××©×•×‘×©×™×:</h5>
                <div id="altered-chord-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>

            <!-- ××§×•×¨×“×™× ××™×•×—×“×™× -->
            <div class="chord-category">
                <h5 class="category-title">××§×•×¨×“×™× ××™×•×—×“×™×:</h5>
                <div id="special-chord-types" class="chord-types-grid">
                    <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
                </div>
            </div>
        </div>

        <!-- Current Selection Display -->
        <div class="current-selection">
            <strong>××§×•×¨×“ × ×‘×—×¨:</strong>
            <div id="current-chord-display">â€”</div>
        </div>

        <!-- Add Chord Button -->
        <button class="add-chord-btn" disabled>
            â• ×”×•×¡×£ ××§×•×¨×“
        </button>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="btn small-btn secondary-btn" id="clear-measure-btn" disabled>
                ğŸ—‘ï¸ × ×§×”
            </button>
            <button class="btn small-btn secondary-btn" id="add-empty-chord-btn" disabled>
                ğŸ”‡ ×¨×™×§
            </button>
        </div>

        <!-- Recently Used Chords Section -->
        <div class="section recently-used-section">
            <h4>××§×•×¨×“×™× ×©× ×•×¡×¤×• ×œ××—×¨×•× ×”:</h4>
            <div id="recently-used-chords" class="recently-used-chords">
                <!-- ×™×˜×¢×Ÿ ×“×™× ××™×ª ×¢×œ ×™×“×™ chord_ui.js -->
            </div>
        </div>

        <!-- App Status Section (for debugging) -->
        <div class="section" style="margin-top: auto; padding-top: 10px; border-top: 1px solid #e1e8ed;">
            <div id="app-status" style="font-size: 10px; color: #666; text-align: center;">
                ×˜×•×¢×Ÿ...
            </div>
        </div>
    </div>
</div>

<script>
// ×¢×“×›×•×Ÿ ×¡×˜×˜×•×¡ ×”××¤×œ×™×§×¦×™×”
function updateAppStatus() {
    const statusEl = document.getElementById('app-status');
    if (statusEl && window.chordApp) {
        const status = window.chordApp.getAppStatus();
        const isOnline = navigator.onLine ? 'ğŸŸ¢' : 'ğŸ”´';
        const hasChanges = status.hasUnsavedChanges ? 'ğŸ“' : 'âœ…';
        statusEl.textContent = `${isOnline} ${hasChanges} ${status.mode || '×˜×•×¢×Ÿ'}`;
        statusEl.title = `××—×•×‘×¨: ${navigator.onLine ? '×›×Ÿ' : '×œ×'}, ×©×™× ×•×™×™×: ${status.hasUnsavedChanges ? '×™×©' : '××™×Ÿ'}`;
    }
}

// ×¢×“×›×•×Ÿ ×›×œ 5 ×©× ×™×•×ª
setInterval(updateAppStatus, 5000);
document.addEventListener('DOMContentLoaded', updateAppStatus);
</script>
