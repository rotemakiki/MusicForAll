{% extends "base.html" %}

{% block title %}砖专 - {{ song.title }}{% endblock %}

{% block content %}
<div class="container">
    <h1>{{ song.title }}</h1>
    <h3>砖 : {{ song.artist }}</h3>
    <h4>住 砖专: {{ song.key }} ({{ song.key_type }})</h4>
    <p>拽爪: {{ song.time_signature }}</p>
    <p>BPM (专转): {{ song.bpm }}</p>

    {% if song.difficulty %}
    <p>
        <b>专转 拽砖:</b>
        {{ song.difficulty }}
        {% if not song.difficulty_approved %}
            <span style="color: orange; font-size: 0.93em;">*</span>
            <span style="font-size: 0.85em; color: gray;">(转 砖专 )</span>
        {% endif %}
    </p>
    {% endif %}

    <!--  砖 砖专 -->
    <div class="video-container">
        <iframe width="560" height="315" src="{{ song.video_url }}" frameborder="0" allowfullscreen></iframe>
    </div>

    <!-- 驻转专  砖专 -->
    <div style="margin-top: 20px;">
        <a href="{{ url_for('songs.play_song', song_id=song.id) }}" class="btn">  砖专</a>
        <a href="{{ url_for('songs.songs') }}" class="btn"> 专 专砖转 砖专</a>
    </div>
    {% if session.get('user_id') == song.created_by or 'admin' in (session.get('roles') or []) %}
    <a href="{{ url_for('songs.edit_song', song_id=song.id) }}" class="btn">锔 注专 砖专</a>
    {% endif %}

</div>

<style>
    .container {
        text-align: center;
        padding: 20px;
    }

    .btn {
        background-color: #007bff;
        color: white;
        padding: 10px 15px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        margin: 10px;
    }

    .btn:hover {
        background-color: #0056b3;
    }

    .video-container {
        margin: 20px auto;
        display: flex;
        justify-content: center;
    }

</style>

<script>
    // 拽  住驻/注专 拽
    localStorage.removeItem("editingSongId");
    localStorage.removeItem("editSongData");
</script>


{% endblock %}
