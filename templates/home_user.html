{% extends "base.html" %}

{% block title %}×‘×¨×•×š ×”×‘×, {{ session.get('username') }}{% endblock %}

{% block content %}
<div class="container">
    <h2>ğŸ¬ ×¡×¨×˜×•× ×™× ×©×”×ª×—×œ×ª ×œ×¦×¤×•×ª ×‘×”×</h2>
    <p><em>×¡×™×× ×ª ×©×‘×¨×¦×•× ×š ×œ×”××©×™×š ×œ×¦×¤×•×ª ×‘×”×</em></p>
    <div class="video-scroll-wrapper">
        <button class="scroll-arrow scroll-right" onclick="scrollVideos('started-videos', -400)">
            <!-- ×—×¥ ×™××™× ×” -->
            <span style="font-size: 36px;">&#8594;</span>
        </button>
        <button class="scroll-arrow scroll-left" onclick="scrollVideos('started-videos', 400)">
            <!-- ×—×¥ ×©×××œ×” -->
            <span style="font-size: 36px;">&#8592;</span>
        </button>
        <div class="video-scroll-container" id="started-videos">
            <div class="video-grid">
                {% for i in range(10) %}
                <video width="400" height="240" controls>
                    <source src="{{ url_for('static', filename='videos/sample.mp4') }}" type="video/mp4">
                    ×”×“×¤×“×¤×Ÿ ×©×œ×š ×œ× ×ª×•××š ×‘×•×•×™×“××•.
                </video>
                {% endfor %}
            </div>
        </div>
    </div>

    <h2 style="margin-top: 40px;">ğŸ¯ ×¡×¨×˜×•× ×™× ××•××œ×¦×™× ×‘×©×‘×™×œ×š</h2>
    <p><em>×‘×”×ª×× ×œ×ª×—×•××™ ×”×¢× ×™×™×Ÿ ×©×œ×š</em></p>
    <div class="video-scroll-wrapper">
        <button class="scroll-arrow scroll-right" onclick="scrollVideos('recommended-videos', -400)">
            <span style="font-size: 36px;">&#8594;</span>
        </button>
        <button class="scroll-arrow scroll-left" onclick="scrollVideos('recommended-videos', 400)">
            <span style="font-size: 36px;">&#8592;</span>
        </button>
        <div class="video-scroll-container" id="recommended-videos">
            <div class="video-grid">
                {% for i in range(10) %}
                <video width="400" height="240" controls>
                    <source src="{{ url_for('static', filename='videos/sample.mp4') }}" type="video/mp4">
                    ×”×“×¤×“×¤×Ÿ ×©×œ×š ×œ× ×ª×•××š ×‘×•×•×™×“××•.
                </video>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<style>
.video-scroll-wrapper {
    position: relative;
    margin-bottom: 35px;
}
.video-scroll-container {
    width: 100%;
    overflow-x: auto;
    scroll-behavior: smooth;
}
.video-grid {
    display: flex;
    flex-direction: row;
    gap: 20px;
    min-width: max-content;
    padding-bottom: 10px;
}
.video-grid video {
    min-width: 400px;
    min-height: 240px;
    border-radius: 10px;
    background: #eee;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}
/* ×¢×™×¦×•×‘ ×›×œ×œ×™ ×©×œ ×—×¦×™× */
.scroll-arrow {
    position: absolute;
    top: 50%;
    z-index: 2;
    background: #007bff;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    color: #fff;
    font-size: 32px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.16);
    cursor: pointer;
    transition: background 0.2s;
    opacity: 0.92;
    display: flex;
    align-items: center;
    justify-content: center;
}
.scroll-arrow:hover {
    background: #0056b3;
    opacity: 1;
}
/* ×—×¥ ×™×× ×™ */
.scroll-arrow.scroll-right {
    right: 5px;
    transform: translateY(-50%);
}
/* ×—×¥ ×©×××œ×™ */
.scroll-arrow.scroll-left {
    left: 5px;
    transform: translateY(-50%);
}
/* ×©×™× ×•×™ ×’×•×“×œ ×‘××•×‘×™×™×œ */
@media (max-width: 900px) {
    .video-grid video {
        min-width: 260px;
        min-height: 150px;
    }
    .scroll-arrow {
        width: 36px;
        height: 36px;
        font-size: 24px;
    }
}
</style>

<script>
// ×’×œ×™×œ×” â€“ ×—×™×•×‘×™ = ×™××™× ×”, ×©×œ×™×œ×™ = ×©×××œ×” (×‘Ö¾RTL)
function scrollVideos(id, amount) {
    const container = document.getElementById(id);
    container.scrollLeft -= amount;
}
</script>
{% endblock %}
